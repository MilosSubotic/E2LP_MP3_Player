<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0074)http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml" dir="ltr" lang="en" id="vbulletin_html"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<!--<base href="http://cboard.cprogramming.com/">--><base href="."><!--[if IE]></base><![endif]--> <link href="./Reading a MP3 header_files/shCore.css" rel="stylesheet" type="text/css"> <link href="./Reading a MP3 header_files/shThemeDefault.css" rel="stylesheet" type="text/css">  <meta id="e_vb_meta_bburl" name="vb_meta_bburl" content="http://cboard.cprogramming.com"> <meta name="generator" content="vBulletin 4.2.3"> <meta http-equiv="X-UA-Compatible" content="IE=9"> <link rel="Shortcut Icon" href="http://cboard.cprogramming.com/favicon.ico" type="image/x-icon"> <meta property="fb:app_id" content="138221899582198"> <meta property="og:site_name" content="C Board"> <meta property="og:description" content="First, if you don&#39;t know how a mp3 file header is you should google a bit before trying to understand this. Here&#39;s a good link Any way I&#39;m trying to"> <meta property="og:url" content="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html"> <meta property="og:type" content="article"> <meta property="og:image" content="http://www.cprogramming.com/images/cpp.png"> <script type="text/javascript" async="" src="./Reading a MP3 header_files/ga.js"></script><script type="text/javascript" src="./Reading a MP3 header_files/combo"></script> <script type="text/javascript"> <!--
	if (typeof YAHOO === 'undefined') // Load ALL YUI Local
	{
		document.write('<script type="text/javascript" src="http://js.cprogramming.com/clientscript/yui/yuiloader-dom-event/yuiloader-dom-event.js?v=423"><\/script>');
		document.write('<script type="text/javascript" src="http://js.cprogramming.com/clientscript/yui/connection/connection-min.js?v=423"><\/script>');
		var yuipath = 'clientscript/yui';
		var yuicombopath = '';
		var remoteyui = false;
	}
	else	// Load Rest of YUI remotely (where possible)
	{
		var yuipath = 'http://yui.yahooapis.com/2.9.0/build';
		var yuicombopath = 'http://yui.yahooapis.com/combo';
		var remoteyui = true;
		if (!yuicombopath)
		{
			document.write('<script type="text/javascript" src="http://yui.yahooapis.com/2.9.0/build/connection/connection-min.js?v=423"><\/script>');
		}
	}
	var SESSIONURL = "";
	var SECURITYTOKEN = "guest";
	var IMGDIR_MISC = "images/misc";
	var IMGDIR_BUTTON = "images/buttons";
	var vb_disable_ajax = parseInt("0", 10);
	var SIMPLEVERSION = "423";
	var BBURL = "http://cboard.cprogramming.com";
	var LOGGEDIN = 0 > 0 ? true : false;
	var THIS_SCRIPT = "showthread";
	var RELPATH = "showthread.php?t=54179";
	var PATHS = {
		forum : "",
		cms   : "",
		blog  : ""
	};
	var AJAXBASEURL = "http://cboard.cprogramming.com/";
// --> </script> <script type="text/javascript" src="./Reading a MP3 header_files/vbulletin-core.js"></script> <link rel="alternate" type="application/rss+xml" title="C Board RSS Feed" href="http://cboard.cprogramming.com/external.php?type=RSS2"> <link rel="alternate" type="application/rss+xml" title="C Board - C Programming - RSS Feed" href="http://cboard.cprogramming.com/external.php?type=RSS2&forumids=4"> <link rel="stylesheet" type="text/css" href="./Reading a MP3 header_files/main-rollup.css"> <!--[if lt IE 8]> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/popupmenu-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/vbulletin-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/vbulletin-chrome-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/vbulletin-formcontrols-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/editor-ie.css?d=1434930713" /> <![endif]--> <meta name="keywords" content="Reading,MP3,header,unsigned, define, char, file, bitratebad, bitratefree, header, index, id.size, mp3header, return, frame, [30], id3v2, typedef, struct, album, year, genre, artist, version, identifier, flags, string, 0x03&amp;h.layer, 0x0f&amp;h.bitrateindx, time, found, mp3id3tag2, beginning, rewindf, size, include, read, layer1, link, pointer, do//read, final, layerreserved, interested, iffreadh, state, layer3, 3-h.layer, layer2, 0x03&amp;h.mpegid==mpegversion2, 0x03&amp;h.mpegid==mpegversion1, index=0, fframesync"> <meta name="description" content="First, if you don&#39;t know how a mp3 file header is you should google a bit before trying to understand this. Here&#39;s a good link Any way I&#39;m trying to"> <title> Reading a MP3 header</title> <link rel="canonical" href="./Reading a MP3 header_files/Reading a MP3 header.html"> <link rel="stylesheet" type="text/css" href="./Reading a MP3 header_files/showthread-rollup.css"> <!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/toolsmenu-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/postlist-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/showthread-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/postbit-ie.css?d=1434930713" /> <link rel="stylesheet" type="text/css" href="http://js.cprogramming.com/clientscript/vbulletin_css/style00006l/poll-ie.css?d=1434930713" /><![endif]--> <link rel="stylesheet" type="text/css" href="./Reading a MP3 header_files/additional.css"> <link rel="stylesheet" type="text/css" href="./Reading a MP3 header_files/additional.css"> <script type="text/javascript" src="./Reading a MP3 header_files/google_service.js"> </script> <script type="text/javascript">
GS_googleAddAdSenseService("ca-pub-2560316224908115");
GS_googleEnableAllServices();
</script><script src="./Reading a MP3 header_files/google_ads.js"></script> <script type="text/javascript">
GA_googleAddSlot("ca-pub-2560316224908115", "Message_board_box_sync_tag");
GA_googleAddSlot("ca-pub-2560316224908115", "MessageBoard_ATF_leaderboard_728x90");
</script> <script type="text/javascript">
GA_googleFetchAds();
</script> <script type="text/javascript" src="./Reading a MP3 header_files/vbseo_ui.js"></script> <script type="text/javascript">
 YAHOO.util.Event.onDOMReady(function (){
 	vbseoui = new vBSEO_UI();
 	vbseoui.page_init(Array('postbody','blogbit','content','postcontainer','vbseo_like_postbit'), Array("php",1));
 });
</script> 
<script type="text/javascript"><!--
window.google_analytics_uacct = 'UA-7820175-1'; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-7820175-1'], ['_trackPageview'], ['_trackPageLoadTime']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
//--></script>
<script id="facebook-jssdk" async="" src="./Reading a MP3 header_files/sdk.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow-x:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head> <body> <div class="above_body">  <div id="header" class="floatcontainer doc_header"> <div><a name="top" href="http://cboard.cprogramming.com/" class="logo-image"><img src="./Reading a MP3 header_files/cprog.png" alt="C Board" title="C Board"></a></div> <div id="toplinks" class="toplinks"> <ul class="nouser"> <li><a href="http://cboard.cprogramming.com/register.php" rel="nofollow">Register</a></li> <li> <script type="text/javascript" src="./Reading a MP3 header_files/vbulletin_md5.js"></script> <form id="navbar_loginform" action="http://cboard.cprogramming.com/login.php?do=login" method="post" onsubmit="md5hash(vb_login_password, vb_login_md5password, vb_login_md5password_utf, 0)"> <fieldset id="logindetails" class="logindetails"> <div> <div> <input type="text" class="textbox default-value" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="101" value="User Name"> <input type="password" class="textbox" tabindex="102" name="vb_login_password" id="navbar_password" size="10" style="display: none;"> <input type="text" class="textbox default-value" tabindex="102" name="vb_login_password_hint" id="navbar_password_hint" size="10" value="Password" style="display: inline;"> <input type="submit" class="loginbutton" tabindex="104" value="Log in" title="Enter your username and password in the boxes provided to login, or click the &#39;register&#39; button to create a profile for yourself." accesskey="s"> </div> </div> </fieldset> <div id="remember" class="remember"> <label for="cb_cookieuser_navbar"><input type="checkbox" name="cookieuser" value="1" id="cb_cookieuser_navbar" class="cb_cookieuser_navbar" accesskey="c" tabindex="103"> Remember Me?</label> </div> <input type="hidden" name="s" value=""> <input type="hidden" name="securitytoken" value="guest"> <input type="hidden" name="do" value="login"> <input type="hidden" name="vb_login_md5password"> <input type="hidden" name="vb_login_md5password_utf"> </form> <script type="text/javascript">
			YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
			YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
			vB_XHTML_Ready.subscribe(function()
			{
			//
				YAHOO.util.Event.on('navbar_username', "focus", navbar_username_focus);
				YAHOO.util.Event.on('navbar_username', "blur", navbar_username_blur);
				YAHOO.util.Event.on('navbar_password_hint', "focus", navbar_password_hint);
				YAHOO.util.Event.on('navbar_password', "blur", navbar_password);
			});
			
			function navbar_username_focus(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == 'User Name')
				{
				//
					textbox.value='';
					textbox.style.color='#000000';
				}
			}

			function navbar_username_blur(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == '')
				{
				//
					textbox.value='User Name';
					textbox.style.color='#777777';
				}
			}
			
			function navbar_password_hint(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "none");
				YAHOO.util.Dom.setStyle('navbar_password', "display", "inline");
				YAHOO.util.Dom.get('navbar_password').focus();
			}

			function navbar_password(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				if (textbox.value == '')
				{
					YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
					YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
				}
			}
			</script> </li> <li id="fb_headerbox"> <a id="fb_loginbtn" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#"><img src="./Reading a MP3 header_files/facebook_login.gif" alt="The Facebook Platform" title="The Facebook Platform"></a> </li> </ul> </div> <div class="ad_global_header"> </div> <hr> </div> <style type="text/css">
.bbcode_container {
overflow: auto;
}
</style> <div id="navbar" class="navbar"> <ul id="navtabs" class="navtabs floatcontainer"> <li class="selected"><a class="navtab" href="http://cboard.cprogramming.com/">Forum</a> <ul class="floatcontainer"> <li><a href="http://cboard.cprogramming.com/search.php?do=getdaily&contenttype=vBForum_Post">Today's Posts</a></li> <li><a rel="help" href="http://faq.cprogramming.com/cgi-bin/smartfaq.cgi" accesskey="5">C and C++ FAQ</a></li> <li class="popupmenu" id="yui-gen0"> <a href="javascript://" class="popupctrl" id="yui-gen2">Forum Actions</a> <ul class="popupbody" id="yui-gen1"> <li> <a rel="nofollow" href="http://cboard.cprogramming.com/forumdisplay.php?do=markread&markreadhash=guest">Mark Forums Read</a> </li> </ul> </li> <li class="popupmenu" id="yui-gen3"> <a href="javascript://" class="popupctrl" accesskey="3" id="yui-gen5">Quick Links</a> <ul class="popupbody" id="yui-gen4"> <li><a href="http://cboard.cprogramming.com/showgroups.php" rel="nofollow">
								
									View Forum Leaders
								
							</a></li> </ul> </li> </ul> </li> <li><a class="navtab" href="http://cboard.cprogramming.com/search.php?do=getdaily&contenttype=vBForum_Post" accesskey="2">What's New?</a></li> <li><a class="navtab" href="http://www.cprogramming.com/begin.html?mb=top">Get Started with C or C++</a></li> <li><a class="navtab" href="http://www.cprogramming.com/tutorial/c-tutorial.html?mb=top">C Tutorial</a></li> <li><a class="navtab" href="http://www.cprogramming.com/tutorial/c++-tutorial.html?mb=top">C++ Tutorial</a></li> <li><a class="navtab" href="http://www.cprogramming.com/c++book/?inl=mbnav">Get the C++ Book</a></li> <li><a class="navtab" href="http://www.cprogramming.com/tutorial.html?mb=top">All Tutorials</a></li> </ul> <div id="globalsearch" class="globalsearch"> <form action="http://cboard.cprogramming.com/search.php?do=process" method="post" id="navbar_search" class="navbar_search"> <input type="hidden" name="securitytoken" value="guest"> <input type="hidden" name="do" value="process"> <span class="textboxcontainer"><span><input type="text" value="" name="query" class="textbox" tabindex="99"></span></span> <span class="buttoncontainer"><span><input type="image" class="searchbutton" src="./Reading a MP3 header_files/search.png" name="submit" onclick="document.getElementById(&#39;navbar_search&#39;).submit;" tabindex="100"></span></span> </form> <ul class="navbar_advanced_search"> <li><a href="http://cboard.cprogramming.com/search.php" accesskey="4">Advanced Search</a></li> </ul> </div> </div> </div> <div class="body_wrapper"> <div id="breadcrumb" class="breadcrumb"> <ul class="floatcontainer"> <li class="navbithome"><a href="http://cboard.cprogramming.com/" accesskey="1"><img src="./Reading a MP3 header_files/navbit-home.png" alt="Home" title="Home"></a></li> <li class="navbit"><a href="http://cboard.cprogramming.com/">Forum</a></li> <li class="navbit"><a href="http://cboard.cprogramming.com/general-programming-boards/">General Programming Boards</a></li> <li class="navbit"><a href="http://cboard.cprogramming.com/c-programming/">C Programming</a></li> <li class="navbit lastnavbit"><span> Reading a MP3 header</span></li> </ul> <hr> </div> <div style="width:728px; margin:0 auto; padding-bottom:1em"> </div> <form action="http://cboard.cprogramming.com/profile.php?do=dismissnotice" method="post" id="notices" class="notices"> <input type="hidden" name="do" value="dismissnotice"> <input type="hidden" name="s" value=""> <input type="hidden" name="securitytoken" value="guest"> <input type="hidden" id="dismiss_notice_hidden" name="dismiss_noticeid" value=""> <input type="hidden" name="url" value=""> <div id="vbseo_vhtml_0"><ol> <li class="restore" id="navbar_notice_1"> <a href="http://www.cprogramming.com/begin.html?mb=unreg">Getting started with C or C++</a> | <a href="http://www.cprogramming.com/tutorial/c-tutorial.html?mb=unreg-c">C Tutorial</a> | <a href="http://www.cprogramming.com/tutorial/c++-tutorial.html?mb=unreg-cpp">C++ Tutorial</a> | <a href="http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?mb=unreg">C and C++ FAQ</a> | <a href="http://www.cprogramming.com/code_blocks/?mb=unreg">Get a compiler</a> | <a href="http://www.cprogramming.com/tutorial/common.html?mb=unreg">Fixes for common problems</a> </li> </ol></div> </form> <div id="pagetitle" class="pagetitle"> <!-- google_ad_section_start --> <h1 class="relevant_replacement">Reading a MP3 header</h1><p class="relevant_replacement">This is a discussion on <em>Reading a MP3 header</em> within the <b>C Programming</b> forums, part of the General Programming Boards category; First, if you don't know how a mp3 file header is you should google a bit before trying to understand ...</p> <!-- google_ad_section_end -->  </div> <div id="thread_controls" class="thread_controls toolsmenu"> <div> <ul id="postlist_popups" class="postlist_popups popupgroup"> <li class="popupmenu" id="linkbacktools"> <h6><a class="popupctrl" href="javascript://" id="yui-gen7">LinkBack</a><a name="goto_linkback"></a></h6> <ul class="popupbody" id="yui-gen6"> <li><a href="./Reading a MP3 header_files/Reading a MP3 header.html" onclick="prompt(&#39;Use the following URL when referencing this thread from another forum or blog.&#39;,&#39;http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html&#39;);return false;"><img class="inlineimg" src="./Reading a MP3 header_files/linkback_url.gif" alt="LinkBack URL" title="LinkBack URL"> LinkBack URL</a></li> <li><a rel="nofollow" href="http://cboard.cprogramming.com/misc.php?do=linkbacks"><img class="inlineimg" src="./Reading a MP3 header_files/linkback_about.gif" alt="About LinkBacks" title="About LinkBacks"> About LinkBacks</a></li> <li>&nbsp;</li> <li>Bookmark &amp; Share</li> <li><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html&title=Reading+a+MP3+header" target="_blank">Digg this Thread!</a></li><li><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html" target="_blank">Bookmark in Technorati</a></li><li><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html" target="_blank">Share on Facebook</a></li><li><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html" target="_blank">twitter</a></li> </ul> </li> <li class="popupmenu" id="threadtools"> <h6><a class="popupctrl" href="javascript://" id="yui-gen9">Thread Tools</a></h6> <ul class="popupbody" id="yui-gen8"> <li><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header-printable-thread.html" accesskey="3" rel="nofollow">Show Printable Version</a></li> <li><a href="http://cboard.cprogramming.com/sendmessage.php?do=sendtofriend&t=54179" rel="nofollow">Email this Page…</a></li> <li> <a href="http://cboard.cprogramming.com/subscription.php?do=addsubscription&t=54179" rel="nofollow">Subscribe to this Thread…</a> </li> </ul> </li> <li class="popupmenu" id="displaymodes"> <h6><a class="popupctrl" href="javascript://" id="yui-gen11">Display</a></h6> <ul class="popupbody" id="yui-gen10"> <li><label>Linear Mode</label></li> <li><a rel="nofollow" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html?mode=hybrid"> Switch to Hybrid Mode</a></li> <li><a rel="nofollow" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html?mode=threaded#post376911"> Switch to Threaded Mode</a></li> </ul> </li> </ul> </div> </div> <div id="postlist" class="postlist restrain"> <ol id="posts" class="posts" start="1"> <li class="postbitlegacy postbitim postcontainer old" id="post_376911">  <div class="posthead"> <span class="postdate old"> <span class="date">06-21-2004</span> </span> <span class="nodecontrols"> <a name="post376911" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post376911" class="postcounter">#1</a><a id="postcount376911" name="1"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen12"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=11288" title="xErath is offline"><strong><!-- google_ad_section_start(weight=ignore) -->xErath<!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="xErath is offline" border="0" title="xErath is offline"> </div> <span class="usertitle">
				Registered User
			</span> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Jun 2004</dd> <dt>Posts</dt> <dd>722</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <h2 class="title icon"> <!-- google_ad_section_start -->Reading a MP3 header<!-- google_ad_section_end --> </h2> <div style="float:left; width:300px; height:250px; margin:0px 10px 10px 0px">  <script type="text/javascript">
GA_googleFillSlot("Message_board_box_sync_tag");
</script><script src="./Reading a MP3 header_files/ads"></script> </div> <div class="content"> <div id="post_message_376911"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->First, if you don't know how a mp3 file header is you should google a bit before trying to understand this. Here's a good <a href="http://www.mp3-tech.org/programmer/frame_header.html" target="_blank">link</a><br>
Any way I'm trying to read a frame header from any mp3 file.<br> <div class="bbcode_container"> <div class="bbcode_description">Code:</div> <div><div id="highlighter_449415" class="syntaxhighlighter bbcode_code cpp"><div class="toolbar"><span><a href="http://cboard.cprogramming.com/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include&lt;conio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include&lt;stdio.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#define MPEGVersion2_5 0</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#define MPEGreserved&nbsp;&nbsp; 1</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#define MPEGVersion2&nbsp;&nbsp; 2</code></div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#define MPEGVersion1&nbsp;&nbsp; 3</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define LAYER1&nbsp; 3</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define LAYER2&nbsp; 2</code></div><div class="line number11 index10 alt2"><code class="cpp preprocessor">#define LAYER3&nbsp; 1</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define LAYERRESERVED&nbsp;&nbsp; 0</code></div><div class="line number13 index12 alt2"><code class="cpp comments">//some macros defined by me... you can do what ever you want with these</code></div><div class="line number14 index13 alt1"><code class="cpp preprocessor">#define BITRATEFREE 0xfffe</code></div><div class="line number15 index14 alt2"><code class="cpp preprocessor">#define BITRATEBAD&nbsp; 0xffff</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="cpp color1 bold">int</code> <code class="cpp plain">bitrates[] = {</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">BITRATEFREE, BITRATEFREE, BITRATEFREE, BITRATEFREE, BITRATEFREE, </code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">32,&nbsp; 32,&nbsp; 32,&nbsp; 32,&nbsp;&nbsp;&nbsp; 8,</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">64,&nbsp; 48,&nbsp; 40,&nbsp; 48,&nbsp;&nbsp; 16,</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">96,&nbsp; 56,&nbsp; 48,&nbsp; 56,&nbsp; 24,</code></div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">128,&nbsp; 64,&nbsp; 56,&nbsp; 64,&nbsp; 32,</code></div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">160,&nbsp; 80,&nbsp; 64,&nbsp; 80,&nbsp; 40,</code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">192,&nbsp; 96,&nbsp; 80,&nbsp; 96,&nbsp; 48,</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">224, 112,&nbsp; 96, 112,&nbsp; 56,</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">256, 128, 112, 128,&nbsp; 64,</code></div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">288, 160, 128, 144,&nbsp; 80,</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">320, 192, 160, 160,&nbsp; 96,</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">352, 224, 192, 176, 112,</code></div><div class="line number30 index29 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">384, 256, 224, 192, 128,</code></div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">416, 320, 256, 224, 144,</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">448, 384, 320, 256, 160,</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">BITRATEBAD, BITRATEBAD, BITRATEBAD, BITRATEBAD, BITRATEBAD</code></div><div class="line number34 index33 alt1"><code class="cpp plain">};</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="cpp keyword bold">typedef</code> <code class="cpp keyword bold">struct</code><code class="cpp plain">{</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; framesync&nbsp;&nbsp; :11;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Frame synchronizer</code></div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; MPEGID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//MPEG version ID</code></div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; layer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Layer</code></div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; protectbit&nbsp; : 1;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//CRC Protection</code></div><div class="line number41 index40 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; bitrateindx : 4;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Bitrate index</code></div><div class="line number42 index41 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; samplefreq&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Samplig rate frequency index</code></div><div class="line number43 index42 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; paddingbit&nbsp; : 1;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Padding</code></div><div class="line number44 index43 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; privatebit&nbsp; : 1;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Private bit</code></div><div class="line number45 index44 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; channel&nbsp;&nbsp;&nbsp;&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Channel</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; modeext&nbsp;&nbsp;&nbsp;&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Mode extension (only if Joint Stereo is set)</code></div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; copyright&nbsp;&nbsp; : 1;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Copyright</code></div><div class="line number48 index47 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; original&nbsp;&nbsp;&nbsp; : 1;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Original</code></div><div class="line number49 index48 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned&nbsp;&nbsp;&nbsp; emphasis&nbsp;&nbsp;&nbsp; : 2;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//Emphasis</code></div><div class="line number50 index49 alt1"><code class="cpp plain">} MP3HEADER;</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="cpp keyword bold">typedef</code> <code class="cpp keyword bold">struct</code><code class="cpp plain">{</code></div><div class="line number53 index52 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">tagid&nbsp; [ 3];&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//0-2&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp; Tag identifier. Must contain "TAG" string if Tag is valid. </code></div><div class="line number54 index53 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">name&nbsp;&nbsp; [30];&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//3-32&nbsp;&nbsp; 30&nbsp; Song Name </code></div><div class="line number55 index54 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">artist [30];&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//33-62&nbsp; 30&nbsp; Artist </code></div><div class="line number56 index55 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">album&nbsp; [30];&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//63-92&nbsp; 30&nbsp; Album</code></div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">year&nbsp;&nbsp; :32 ;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//93-96&nbsp;&nbsp; 4&nbsp; Year </code></div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">comment[30];&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//97-126 30&nbsp; Comment </code></div><div class="line number59 index58 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">genre&nbsp; : 8 ;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">//127&nbsp; 1&nbsp; Genre </code></div><div class="line number60 index59 alt1"><code class="cpp plain">} MP3ID3TAG1;</code></div><div class="line number61 index60 alt2">&nbsp;</div><div class="line number62 index61 alt1"><code class="cpp preprocessor">#pragma pack(1)</code></div><div class="line number63 index62 alt2"><code class="cpp keyword bold">typedef</code> <code class="cpp keyword bold">struct</code><code class="cpp plain">{</code></div><div class="line number64 index63 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">tagid[3];</code><code class="cpp comments">//0-2&nbsp; TAG identifier. It contains of string "ID3" </code></div><div class="line number65 index64 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">short</code>&nbsp;&nbsp; <code class="cpp plain">tagverm ;</code><code class="cpp comments">//3-4&nbsp; TAG version</code></div><div class="line number66 index65 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">flags&nbsp;&nbsp; ;</code><code class="cpp comments">//5&nbsp;&nbsp;&nbsp; Flags </code></div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">long</code>&nbsp;&nbsp;&nbsp; <code class="cpp plain">size&nbsp;&nbsp;&nbsp; ;</code><code class="cpp comments">//6-9&nbsp; Size of TAG MSB</code></div><div class="line number68 index67 alt1"><code class="cpp plain">} MP3ID3TAG2;</code></div><div class="line number69 index68 alt2">&nbsp;</div><div class="line number70 index69 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">unpacktagsize(MP3ID3TAG2 id){</code></div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">a, b, c, d;</code></div><div class="line number72 index71 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">a = id.size &amp; 0x7f000000,</code></div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">b = id.size &amp; 0x007f0000,</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">c = id.size &amp; 0x00007f00,</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">d = id.size &amp; 0x0000007f;</code></div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code>&nbsp; <code class="cpp plain">a&gt;&gt;3 | b&gt;&gt;2 | c&gt;&gt;1 | d&gt;&gt;0;</code></div><div class="line number77 index76 alt2"><code class="cpp plain">}</code></div><div class="line number78 index77 alt1">&nbsp;</div><div class="line number79 index78 alt2"><code class="cpp color1 bold">int</code> <code class="cpp plain">readMP3header(</code><code class="cpp color1 bold">FILE</code> <code class="cpp plain">*f, MP3HEADER *h){</code></div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">MP3ID3TAG2 tag;</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//push file point to the beginning</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">rewind</code><code class="cpp plain">(f);</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">fread</code><code class="cpp plain">(&amp;tag, 1, </code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(MP3ID3TAG2), f);</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//tag id3v2 are located at the beginning of file, id3v1 at the end</code></div><div class="line number87 index86 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(tag.tagid[0]==</code><code class="cpp string">'I'</code> <code class="cpp plain">&amp;&amp; tag.tagid[1]==</code><code class="cpp string">'D'</code> <code class="cpp plain">&amp;&amp; tag.tagid[2]==</code><code class="cpp string">'3'</code><code class="cpp plain">){</code><code class="cpp comments">//is tag id3v2 - jump to end of tag</code></div><div class="line number88 index87 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">fseek</code><code class="cpp plain">(f, unpacktagsize(tag), SEEK_CUR);</code></div><div class="line number89 index88 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code><code class="cpp keyword bold">else</code><code class="cpp plain">{</code><code class="cpp comments">//isn't tag id3v2 - go back</code></div><div class="line number90 index89 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">rewind</code><code class="cpp plain">(f);</code></div><div class="line number91 index90 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//I'm currently not interested in the final state of the file pointer</code></div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">do</code><code class="cpp plain">{</code><code class="cpp comments">//read a frame header</code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(</code><code class="cpp functions bold">fread</code><code class="cpp plain">(h, 1, </code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(MP3HEADER), f)&lt;1)</code><code class="cpp comments">//returns -1 if eof</code></div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">0;</code></div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">fseek</code><code class="cpp plain">(f, 1-</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(MP3HEADER), SEEK_CUR);</code></div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//verifies if the framesync bytes are wellset - if not no frame header was read: go to next file byte</code></div><div class="line number98 index97 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code><code class="cpp keyword bold">while</code><code class="cpp plain">(~h-&gt;framesync);</code></div><div class="line number99 index98 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number100 index99 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">1;</code></div><div class="line number101 index100 alt2"><code class="cpp plain">}</code></div><div class="line number102 index101 alt1">&nbsp;</div><div class="line number103 index102 alt2"><code class="cpp color1 bold">int</code> <code class="cpp plain">MP3bitrate(MP3HEADER h){</code></div><div class="line number104 index103 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">index=0;</code></div><div class="line number105 index104 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">( (0x03&amp;h.MPEGID)==MPEGVersion1 ){</code></div><div class="line number106 index105 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">index = 3-h.layer;</code></div><div class="line number107 index106 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code><code class="cpp keyword bold">else</code> <code class="cpp keyword bold">if</code><code class="cpp plain">( (0x03&amp;h.MPEGID)==MPEGVersion2 || (0x03&amp;h.MPEGID)==MPEGVersion2_5 ){</code></div><div class="line number108 index107 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">index = (0x03&amp;h.layer) == LAYER1 ? 3 :4 ;</code></div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number110 index109 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">bitrates[ index + (0x0f&amp;h.bitrateindx) * 5];</code></div><div class="line number111 index110 alt2"><code class="cpp plain">}</code></div><div class="line number112 index111 alt1">&nbsp;</div><div class="line number113 index112 alt2"><code class="cpp plain">main(){</code></div><div class="line number114 index113 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">FILE</code> <code class="cpp plain">*f;</code></div><div class="line number115 index114 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">MP3HEADER h;</code></div><div class="line number116 index115 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">i;</code></div><div class="line number117 index116 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number118 index117 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">f = </code><code class="cpp functions bold">fopen</code><code class="cpp plain">(YOUR_FILE_HERE, </code><code class="cpp string">"rb"</code><code class="cpp plain">);</code></div><div class="line number119 index118 alt2">&nbsp;</div><div class="line number120 index119 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(readMP3header(f, &amp;h))</code></div><div class="line number121 index120 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"MPEGID: %d\nLAYER: %d\nBITIND: %d\nBITRATE: %d\n"</code><code class="cpp plain">,</code></div><div class="line number122 index121 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">0x03&amp;h.MPEGID, 0x03&amp;h.layer, 0x0f&amp;h.bitrateindx , MP3bitrate(h));</code></div><div class="line number123 index122 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">else</code></div><div class="line number124 index123 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"nop, header not found."</code><code class="cpp plain">);</code></div><div class="line number125 index124 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">getch();</code></div><div class="line number126 index125 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div> </div>Well, the problem... The first frame header isn't found first. Only after the first iteration, the second time, or not. I think it has something to do with the tag skipping. I get the wrong bitrate, and If I try to read several frames from the same file I get diferent bitrates every time.<br> <br>
[edit]<br>
Opps, forgot to put link about ID tags sorry.<br> <a href="http://www.multiweb.cz/twoinches/MP3inside.htm" target="_blank">Here's one.</a><br>
[/edit]<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content">  <blockquote class="postcontent lastedited">
					
						Last edited by xErath; 06-22-2004 at <span class="time">11:06 AM</span>.
					
					
				</blockquote>  <div class="vbseo_buttons" id="lkbtn_1.54179.376911"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376911&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376911">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376911">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376911">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> <div style="clear:both"></div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_376911" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_376952">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post376952" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post376952" class="postcounter">#2</a><a id="postcount376952" name="2"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen13"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=40" title="Salem is offline"><strong><!-- google_ad_section_start(weight=ignore) --><b>Salem</b><!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="Salem is offline" border="0" title="Salem is offline"> </div> <span class="usertitle">
				and the hat of int overfl
			</span> <a rel="nofollow" class="postuseravatar" href="http://cboard.cprogramming.com/member.php?u=40" title="Salem is offline"> <img src="./Reading a MP3 header_files/avatar40_2.gif" alt="Salem&#39;s Avatar" title="Salem&#39;s Avatar"> </a> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Aug 2001</dd> <dt>Location</dt> <dd>The edge of the known universe</dd> <dt>Posts</dt> <dd>33,292</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_376952"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->I bet you will find that sizeof(MP3ID3TAG2) is 10, and not the 9 you expect.<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.376952"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376952&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376952">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376952">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376952">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> <blockquote class="signature restore"><div class="signaturecontainer"><!-- google_ad_section_start(weight=ignore) -->If you dance barefoot on the broken glass of undefined behaviour, you've got to expect the occasional cut.<br> <a href="http://online.wsj.com/article/SB10001424052748703515504576142092863219826.html" target="_blank">If at first you don't succeed, try writing your phone number on the exam paper</a>.<!-- google_ad_section_end --></div></blockquote> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_376952" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_376959">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post376959" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post376959" class="postcounter">#3</a><a id="postcount376959" name="3"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen14"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=11288" title="xErath is offline"><strong><!-- google_ad_section_start(weight=ignore) -->xErath<!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="xErath is offline" border="0" title="xErath is offline"> </div> <span class="usertitle">
				Registered User
			</span> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Jun 2004</dd> <dt>Posts</dt> <dd>722</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_376959"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->Opps... another mistake... It's corrected now, but still doesn't work... now the problem is to make the MP3HEADER structure fit in 4 bytes... #pragma pack directive doesn't work. The compiler gives the framesync field 2 bytes and 3 to the rest of the fields.<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.376959"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376959&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376959">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376959">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376959">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_376959" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_376999">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post376999" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post376999" class="postcounter">#4</a><a id="postcount376999" name="4"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen15"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=40" title="Salem is offline"><strong><!-- google_ad_section_start(weight=ignore) --><b>Salem</b><!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="Salem is offline" border="0" title="Salem is offline"> </div> <span class="usertitle">
				and the hat of int overfl
			</span> <a rel="nofollow" class="postuseravatar" href="http://cboard.cprogramming.com/member.php?u=40" title="Salem is offline"> <img src="./Reading a MP3 header_files/avatar40_2.gif" alt="Salem&#39;s Avatar" title="Salem&#39;s Avatar"> </a> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Aug 2001</dd> <dt>Location</dt> <dd>The edge of the known universe</dd> <dt>Posts</dt> <dd>33,292</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_376999"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->Your only portable solution is to read the information into an array of bytes, then extract the information using normal bitwise masking and shifting operations, much like you do in unpacktagsize().<br> <br>
Bitfields are useless for external data types.<br>
For example, given<br>
struct { int layer : 2 ; }<br>
You don't know whether that maps to bits 0,1; 7,8; 14,15; or 30,31.  The compiler is free to choose any of those.<br>
Add to that all the different ways of saying "#pragma pack(1)", and likely endian issues across different machines.<br>
All in all, it's just much easier to just do the work yourself.<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.376999"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376999&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376999">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376999">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post376999">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> <blockquote class="signature restore"><div class="signaturecontainer"><!-- google_ad_section_start(weight=ignore) -->If you dance barefoot on the broken glass of undefined behaviour, you've got to expect the occasional cut.<br> <a href="http://online.wsj.com/article/SB10001424052748703515504576142092863219826.html" target="_blank">If at first you don't succeed, try writing your phone number on the exam paper</a>.<!-- google_ad_section_end --></div></blockquote> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_376999" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_377055">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post377055" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post377055" class="postcounter">#5</a><a id="postcount377055" name="5"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen16"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=11288" title="xErath is offline"><strong><!-- google_ad_section_start(weight=ignore) -->xErath<!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="xErath is offline" border="0" title="xErath is offline"> </div> <span class="usertitle">
				Registered User
			</span> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Jun 2004</dd> <dt>Posts</dt> <dd>722</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_377055"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start --><div class="bbcode_container"> <div class="bbcode_quote"> <div class="quote_container"> <div class="bbcode_quote_container"></div> <div class="bbcode_postedby"> <img src="./Reading a MP3 header_files/quote_icon.png" alt="Quote" title="Quote"> Originally Posted by <strong>Salem</strong> </div> <div class="message">Your only portable solution is to read the information into an array of bytes, then extract the information using normal bitwise masking and shifting operations, much like you do in unpacktagsize().</div> </div> </div> </div>Bah.. doubled work... Lets see what I can do....<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.377055"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377055&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377055">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377055">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377055">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_377055" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_377182">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post377182" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post377182" class="postcounter">#6</a><a id="postcount377182" name="6"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen17"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=944" title="quzah is offline"><strong><!-- google_ad_section_start(weight=ignore) -->quzah<!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="quzah is offline" border="0" title="quzah is offline"> </div> <span class="usertitle">
				ATH0
			</span> <a rel="nofollow" class="postuseravatar" href="http://cboard.cprogramming.com/member.php?u=944" title="quzah is offline"> <img src="./Reading a MP3 header_files/avatar944_3.gif" alt="quzah&#39;s Avatar" title="quzah&#39;s Avatar"> </a> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Oct 2001</dd> <dt>Posts</dt> <dd>14,826</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_377182"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->I started this last night when I was st..under the weather.  Finished this morning, when I woke up. Here ya go, enjoy the free ride.<br> <div class="bbcode_container"> <div class="bbcode_description">Code:</div> <pre class="bbcode_code">#include &lt;stdio.h&gt;

typedef enum mp3h_tags { MP3H_FRAMESYNC, MP3HM_PEGID, MP3H_LAYER,
        MP3H_PROTECTBIT, MP3H_BITRATEINDX, MP3H_SAMPLEFREQ, MP3H_PADDINGBIT,
        MP3H_PRIVATEBIT, MP3H_CHANNEL, MP3H_MODEEXT, MP3H_COPYRIGHT,
        MP3H_ORIGINAL, MP3H_EMPHASIS } mp3t_t;

unsigned int shifts[] = { 0, 11, 13, 15, 16, 20, 22, 23, 24, 26, 28, 29, 30 };
unsigned int masks[] = { 0x7FF, 0x1800, 0x6000, 0x8000, 0xF0000, 0x300000,
        0x400000, 0x800000, 0x3000000, 0xC000000, 0x10000000, 0x20000000,
        0xC0000000 };

void setvalue( unsigned int *mp3header, mp3t_t tag, unsigned int value )
{
        *mp3header &amp;= ~masks[tag];
        *mp3header |= (( masks[tag]) &amp; (value&lt;&lt;shifts[tag]));
}

void showbits( unsigned int bits )
{
        int x;
        for( x =0; x &lt; sizeof bits &lt;&lt; 3; x++ )
                printf("%d", !!(bits  &amp; (1&lt;&lt;x)) );
        printf("\n");
}

int main ( void )
{
        unsigned int x = 0;

        printf("bits  0-10 (11 total): "); showbits( masks[0] );
        printf("bits 11-12 ( 2 total): "); showbits( masks[1] );
        printf("bits 13-14 ( 2 total): "); showbits( masks[2] );
        printf("bits 15    ( 1 total): "); showbits( masks[3] );
        printf("bits 16-19 ( 4 total): "); showbits( masks[4] );
        printf("bits 20-21 ( 2 total): "); showbits( masks[5] );
        printf("bits 22    ( 1 total): "); showbits( masks[6] );
        printf("bits 23    ( 1 total): "); showbits( masks[7] );
        printf("bits 24-25 ( 2 total): "); showbits( masks[8] );
        printf("bits 26-27 ( 2 total): "); showbits( masks[9] );
        printf("bits 28    ( 1 total): "); showbits( masks[10] );
        printf("bits 29    ( 1 total): "); showbits( masks[11] );
        printf("bits 30-31 ( 2 total): "); showbits( masks[12] );
        printf("\n");

        printf("An example:\nSet tag1, value of 2\n");
        setvalue( &amp;x, 1, 2 ); showbits( x );
        printf("Set tag0, value of 300\n"); 
        setvalue( &amp;x, 0, 300 ); showbits( x );
        printf("Set tag0, value of 1\n"); 
        setvalue( &amp;x, 0, 1 ); showbits( x );

        return 0;
}
<font color="orange">
/*
bits  0-10 (11 total): 11111111111000000000000000000000
bits 11-12 ( 2 total): 00000000000110000000000000000000
bits 13-14 ( 2 total): 00000000000001100000000000000000
bits 15    ( 1 total): 00000000000000010000000000000000
bits 16-19 ( 4 total): 00000000000000001111000000000000
bits 20-21 ( 2 total): 00000000000000000000110000000000
bits 22    ( 1 total): 00000000000000000000001000000000
bits 23    ( 1 total): 00000000000000000000000100000000
bits 24-25 ( 2 total): 00000000000000000000000011000000
bits 26-27 ( 2 total): 00000000000000000000000000110000
bits 28    ( 1 total): 00000000000000000000000000001000
bits 29    ( 1 total): 00000000000000000000000000000100
bits 30-31 ( 2 total): 00000000000000000000000000000011

An example:
Set tag1, value of 2
00000000000010000000000000000000
Set tag0, value of 300
00110100100010000000000000000000
Set tag0, value of 1
10000000000010000000000000000000
*/</font></pre> </div>Sans error-checking and tidyness. <br> <br>
Quzah.<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.377182"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377182&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377182">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377182">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377182">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> <blockquote class="signature restore"><div class="signaturecontainer"><!-- google_ad_section_start(weight=ignore) -->Hope is the first step on the road to disappointment.<!-- google_ad_section_end --></div></blockquote> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_377182" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> <li class="postbitlegacy postbitim postcontainer old" id="post_377184">  <div class="posthead"> <span class="postdate old"> <span class="date">06-22-2004</span> </span> <span class="nodecontrols"> <a name="post377184" href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#post377184" class="postcounter">#7</a><a id="postcount377184" name="7"></a> </span> </div> <div class="postdetails"> <div class="userinfo"> <div class="username_container"> <div class="popupmenu memberaction" id="yui-gen18"> <a rel="nofollow" class="username offline " href="http://cboard.cprogramming.com/member.php?u=11288" title="xErath is offline"><strong><!-- google_ad_section_start(weight=ignore) -->xErath<!-- google_ad_section_end --></strong></a> </div> <img class="inlineimg onlinestatus" src="./Reading a MP3 header_files/user-offline.png" alt="xErath is offline" border="0" title="xErath is offline"> </div> <span class="usertitle">
				Registered User
			</span> <hr> <dl class="userinfo_extra"> <dt>Join Date</dt> <dd>Jun 2004</dd> <dt>Posts</dt> <dd>722</dd> </dl> <div class="imlinks"> </div> </div> <div class="postbody"> <div class="postrow has_after_content"> <div class="content"> <div id="post_message_377184"> <blockquote class="postcontent restore " style="overflow: visible"> <!-- google_ad_section_start -->Nice Quzah! hum, I wasn't considering using enum, but I think it would in fact be better. Now I have to do the reverse stuff.<br>
Thanx<!-- google_ad_section_end --> </blockquote> </div> </div> </div> <div class="after_content"> <div class="vbseo_buttons" id="lkbtn_1.54179.377184"> <ul class="vbseo_links" style="visibility:visible"> <li class="vbseo_share"><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#">Share</a> <ul class="vbseo_share_body"> <li class="share_header">Share this post on</li> <li class="right"><img src="./Reading a MP3 header_files/digg.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377184&title=Reading+a+MP3+header">Digg</a></li> <li class="left"><img src="./Reading a MP3 header_files/technorati.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377184">Technorati</a></li> <li class="right"><img src="./Reading a MP3 header_files/facebook.gif" width="18px" height="18px" alt=""><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377184">Share on Facebook</a></li> <li class="left"><img src="./Reading a MP3 header_files/twitter.png" width="18px" height="18px" alt=""><a rel="nofollow" href="http://twitter.com/home?status=Reading+a+MP3+header%20http%3A%2F%2Fcboard.cprogramming.com%2Fc-programming%2F54179-reading-mp3-header.html%23post377184">twitter</a></li> </ul> </li> </ul> <div class="vbseo_liked" style="display:none"></div> </div> </div> <div class="cleardiv"></div> </div> </div> <div class="postfoot">  <div class="textcontrols floatcontainer"> <span class="postcontrols"> <img style="display:none" id="progress_377184" src="./Reading a MP3 header_files/progress.gif" alt=""> </span> <span class="postlinking"> </span>  </div> </div> <hr> </li> </ol> <div class="separator"></div> <div class="postlistfoot"> </div> </div> <div id="below_postlist" class="noinlinemod below_postlist"> <div id="pagination_bottom" class="pagination_bottom"> </div> </div>  <div class="navlinks"> <strong>«</strong> <a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header-prev-thread.html" rel="nofollow">Previous Thread</a>
			|
			<a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header-next-thread.html" rel="nofollow">Next Thread</a> <strong>»</strong> </div>  <div id="thread_info" class="thread_info block"> <div style="font-size:14px;padding:10px;margin-top:5px;margin-bottom:5px;"> <b>Popular pages</b> <ul> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/begin.html">Exactly how to get started with C++ (or C) today</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/c-tutorial.html">C Tutorial</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/c++-tutorial.html">C++ Tutorial</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/how_to_learn_to_program.html">5 ways you can learn to program faster</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/beginner_programming_mistakes.html">The 5 Most Common Problems New Programmers Face</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/code_blocks/">How to set up a compiler</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/common.html">8 Common programming Mistakes</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/c++11/what-is-c++0x.html">What is C++11?</a> </li><li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/game_programming/same_game_part1.html">Creating a game, from start to finish</a> </li></ul> <b>Recent additions</b> <a href="http://feeds2.feedburner.com/Cprogrammingcom" rel="alternate" type="application/rss+xml"><img src="./Reading a MP3 header_files/feed-icon16x16.png" alt="subscribe to a feed" style="border:0" width="16" height="16" title="subscribe to a feed"></a> <ul> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html">How to create a shared library on Linux with GCC</a> - December 30, 2011</li> <li style="list-style-type: disc; list-style-position: inside"> <a href="http://www.cprogramming.com/c++11/c++11-nullptr-strongly-typed-enum-class.html">Enum classes and nullptr in C++11</a> - November 27, 2011</li> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/computersciencetheory/hash-table.html">Learn about The Hash Table</a> - November 20, 2011</li> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/c++11/rvalue-references-and-move-semantics-in-c++11.html">Rvalue References and Move Semantics in C++11</a> - November 13, 2011</li> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/java/c-and-c++-for-java-programmers.html">C and C++ for Java Programmers</a> - November 5, 2011</li> <li style="list-style-type: disc; list-style-position: inside"><a href="http://www.cprogramming.com/tutorial/c++-iostreams.html">A Gentle Introduction to C++ IO Streams</a> - October 10, 2011</li> </ul> </div> <div id="similar_threads"> <h4 class="threadinfohead blockhead">Similar Threads</h4> <div id="similar_threads_list" class="thread_info_block blockbody formcontrols"> <ol class="similar_threads"> <li class="floatcontainer"> <div class="titleblock"> <h6><a href="http://cboard.cprogramming.com/cplusplus-programming/93641-class-methods-header-source-file.html" title="Where is the best place to put the class methods? Directly in the class in the header file, if you are developing a library, or in an external source file? 
 
The reason to have them directly in the header file is that you can have a header file only and no source file, so you get only one file....">Class methods in header or source file?</a></h6> <div class="starter_forum">
       By TriKri in forum C++ Programming
    </div> </div> <div class="dateblock"> <span class="shade">Replies:</span> 13
      <div class="starter_forum"> <span class="shade">Last Post:</span> 09-17-2007, <span class="time">05:23 AM</span> </div> </div> </li><li class="floatcontainer"> <div class="titleblock"> <h6><a href="http://cboard.cprogramming.com/cplusplus-programming/91864-header-file-class-problems.html" title="Hi, 
 
I recently wrote a small morse code converter and then decided to combine it with the network programming stuff I&#39;m learning and then decided to mash that up in turn with some OO programming which I am also learning and it would all run in linux. Not that I&#39;m trying to overload myself or...">header file/class problems</a></h6> <div class="starter_forum">
       By Calef13 in forum C++ Programming
    </div> </div> <div class="dateblock"> <span class="shade">Replies:</span> 6
      <div class="starter_forum"> <span class="shade">Last Post:</span> 07-20-2007, <span class="time">08:33 AM</span> </div> </div> </li><li class="floatcontainer"> <div class="titleblock"> <h6><a href="http://cboard.cprogramming.com/networking-device-communication/78520-obtaining-source-destination-ip-details-icmp-header-each-field.html" title="hi...i am new to C programming.how do i get the source &amp; destination IP,ICMP header details and each field of it from the program below.please mail me if u need the header files and also the tcpdump binary file.i am really helpless.please please please help me...thank you.my email is...">Obtaining source &amp; destination IP,details of ICMP Header &amp; each of field of it ???</a></h6> <div class="starter_forum">
       By cromologic in forum Networking/Device Communication
    </div> </div> <div class="dateblock"> <span class="shade">Replies:</span> 1
      <div class="starter_forum"> <span class="shade">Last Post:</span> 04-29-2006, <span class="time">02:49 PM</span> </div> </div> </li><li class="floatcontainer"> <div class="titleblock"> <h6><a href="http://cboard.cprogramming.com/c-programming/64221-problems-reading-binary-file.html" title="I have difficulty in reading the content of the binary file. When I tried to open the .bin file, all I could see were the weird letters as below: 
...">Problems in reading binary file</a></h6> <div class="starter_forum">
       By serena in forum C Programming
    </div> </div> <div class="dateblock"> <span class="shade">Replies:</span> 3
      <div class="starter_forum"> <span class="shade">Last Post:</span> 04-14-2005, <span class="time">03:54 AM</span> </div> </div> </li><li class="floatcontainer"> <div class="titleblock"> <h6><a href="http://cboard.cprogramming.com/c-programming/56135-reading-bitmap-file-header-problem.html" title="Hello,  
 
Ive been at this for hours and cant figure out where its going wrong. Im simply trying to open a bitmap read its header information into a struct and display it. Ive checked around and think this structure is correct for what im trying to do. On my system short is 2 bytes and long is 4...">Reading Bitmap File Header Problem.</a></h6> <div class="starter_forum">
       By StanleyC in forum C Programming
    </div> </div> <div class="dateblock"> <span class="shade">Replies:</span> 7
      <div class="starter_forum"> <span class="shade">Last Post:</span> 08-26-2004, <span class="time">05:54 PM</span> </div> </div> </li> </ol> </div> </div> <div class="options_block_container"> </div> </div> <div style="clear: left"> </div> <div id="footer" class="floatcontainer footer"> <form action="http://cboard.cprogramming.com/" method="get" id="footer_select" class="footer_select"> <select name="styleid" onchange="switch_id(this, &#39;style&#39;)"> <optgroup label="Quick Style Chooser"><option class="hidden"></option></optgroup> <optgroup label=" Standard Styles"> <option value="6" class="" selected="selected">-- Normal Style</option> </optgroup> <optgroup label=" Mobile Styles"> <option value="13" class="">-- Mobile Style</option> <option value="14" class="">-- Default Mobile Style</option> </optgroup> </select> </form> <ul id="footer_links" class="footer_links"> <li><a href="http://www.cprogramming.com/email.html" rel="nofollow" accesskey="9">Contact Us</a></li> <li><a href="http://www.cprogramming.com/">C and C++ Programming at Cprogramming.com</a></li> <li><a href="http://cboard.cprogramming.com/sitemap/">Archive</a></li> <li><a href="http://glowhost.com/" target="_blank">Web Hosting</a></li> <li><a href="http://www.cprogramming.com/privacy.html">Privacy Statement</a></li> <li><a href="http://cboard.cprogramming.com/c-programming/54179-reading-mp3-header.html#top" onclick="document.location.hash=&#39;top&#39;; return false;">Top</a></li> </ul> <script type="text/javascript"> <!--
		// Main vBulletin Javascript Initialization
		vBulletin_init();
	//--> </script> </div> </div>  <div class="below_body"> <div id="footer_time" class="shade footer_time">All times are GMT -6. The time now is <span class="time">01:46 PM</span>.</div> <div id="footer_copyright" class="shade footer_copyright"> 
	Powered by <a href="https://www.vbulletin.com/" id="vbulletinlink">vBulletin®</a> Version 4.2.3 <br>Copyright © 2015 vBulletin Solutions, Inc. All rights reserved. 
	
<br><!-- google_ad_section_start(weight=ignore) -->Search Engine Optimization by <a rel="nofollow" href="http://www.crawlability.com/vbseo/">vBSEO</a> 3.6.1<!-- google_ad_section_end --> </div> <div id="footer_morecopyright" class="shade footer_morecopyright">   </div> <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" title="Facebook Cross Domain Communication Frame" aria-hidden="true" tabindex="-1" id="fb_xdm_frame_http" src="./Reading a MP3 header_files/44OwK74u0Ie.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" title="Facebook Cross Domain Communication Frame" aria-hidden="true" tabindex="-1" id="fb_xdm_frame_https" src="./Reading a MP3 header_files/44OwK74u0Ie(1).html" style="border: none;"></iframe></div></div></div> <script type="text/javascript" src="./Reading a MP3 header_files/vbulletin_facebook.js"></script> <script type="text/javascript"> <!--
	loadFacebookAPI('en_US');
	function fbAsyncInit()
	{
		vBfb = new vB_Facebook({
			appid : "138221899582198",
			connected : 0,
			active : 0,
			autoreg : 1,
			feed_newthread : 1,
			feed_postreply : 1,
			feed_blogentry : 0,
			feed_blogcomment : 0,
			feed_newarticle : 0,
			feed_articlecomment : 0
		});
	}
// --> </script> </div> <br><div style="z-index:3" class="smallfont" align="center"><a href="http://cboard.cprogramming.com/sitemap/f-17.html">1</a> <a href="http://cboard.cprogramming.com/sitemap/f-20.html">2</a> <a href="http://cboard.cprogramming.com/sitemap/f-3.html">3</a> <a href="http://cboard.cprogramming.com/sitemap/f-4.html">4</a> <a href="http://cboard.cprogramming.com/sitemap/f-13.html">5</a> <a href="http://cboard.cprogramming.com/sitemap/f-6.html">6</a> <a href="http://cboard.cprogramming.com/sitemap/f-28.html">7</a> <a href="http://cboard.cprogramming.com/sitemap/f-14.html">8</a> <a href="http://cboard.cprogramming.com/sitemap/f-38.html">9</a> <a href="http://cboard.cprogramming.com/sitemap/f-21.html">10</a> <a href="http://cboard.cprogramming.com/sitemap/f-7.html">11</a> <a href="http://cboard.cprogramming.com/sitemap/f-9.html">12</a> <a href="http://cboard.cprogramming.com/sitemap/f-35.html">13</a> <a href="http://cboard.cprogramming.com/sitemap/f-36.html">14</a> <a href="http://cboard.cprogramming.com/sitemap/f-22.html">15</a> <a href="http://cboard.cprogramming.com/sitemap/f-34.html">16</a> <a href="http://cboard.cprogramming.com/sitemap/f-24.html">17</a> <a href="http://cboard.cprogramming.com/sitemap/f-10.html">18</a> <a href="http://cboard.cprogramming.com/sitemap/f-19.html">19</a> <a href="http://cboard.cprogramming.com/sitemap/f-18.html">20</a> <a href="http://cboard.cprogramming.com/sitemap/f-33.html">21</a> </div>

<script type="text/javascript">
//<![CDATA[

var vbseo_jshtml = new Array();
vbseo_jshtml[0] = "<"+"ol> <"+"li class=\"restore\" id=\"navbar_notice_1\"> <"+"a href=http://www.cprogramming.com/begin.html?mb=unreg>Getting started with C or C++<"+"/a> | <"+"a href=\"http://www.cprogramming.com/tutorial/c-tutorial.html?mb=unreg-c\">C Tutorial<"+"/a> | <"+"a href=\"http://www.cprogramming.com/tutorial/c++-tutorial.html?mb=unreg-cpp\">C++ Tutorial<"+"/a> | <"+"a href=\"http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?mb=unreg\">C and C++ FAQ<"+"/a> | <"+"a href=http://www.cprogramming.com/code_blocks/?mb=unreg>Get a compiler<"+"/a> | <"+"a href=http://www.cprogramming.com/tutorial/common.html?mb=unreg>Fixes for common problems<"+"/a> <"+"/li> <"+"/ol>";

for(var vi=0;vi<vbseo_jshtml.length;vi++)
if(fetch_object("vbseo_vhtml_"+vi))fetch_object("vbseo_vhtml_"+vi).innerHTML = vbseo_jshtml[vi];

window.orig_onload = window.onload;
window.onload = function() {
var cpost=document.location.hash.substring(1);var cpost2='';if(cpost && (typeof fetch_object != 'undefined')){ var ispost=cpost.substring(0,4)=='post';if(ispost)cpost2='post_'+cpost.substring(4);if((cobj = fetch_object(cpost))||(cobj = fetch_object(cpost2))){cobj.scrollIntoView(true);}else if(ispost){cpostno = cpost.substring(4,cpost.length);if(parseInt(cpostno)>0){location.replace('http://cboard.cprogramming.com/showthread.php?p='+cpostno);};} }

if(typeof window.orig_onload == "function") window.orig_onload();
}

//]]>
</script>
 <script type="text/javascript" src="./Reading a MP3 header_files/XRegExp.js"></script> <script type="text/javascript" src="./Reading a MP3 header_files/shCore-vb.js"></script> <script type="text/javascript" src="./Reading a MP3 header_files/shBrushCpp.js"></script> <script type="text/javascript">
         SyntaxHighlighter.all();
</script> </body></html>